appId: com.docmind.app
productName: Docmind
copyright: Copyright 2026 digital nalu GmbH

directories:
  output: release

# ── macOS ──────────────────────────────────────────────────────────────
mac:
  category: public.app-category.education
  target:
    - dmg
    - zip
  icon: build/icon.png
  darkModeSupport: true
  gatekeeperAssess: false
  # Code signing: set CSC_LINK + CSC_KEY_PASSWORD env vars in CI.
  # When CSC_LINK is absent, electron-builder skips signing automatically.
  # Remove 'identity: null' once certificates are configured.
  identity: null
  hardenedRuntime: true
  entitlements: build/entitlements.mac.plist
  entitlementsInherit: build/entitlements.mac.plist

# Notarization: requires APPLE_ID, APPLE_APP_SPECIFIC_PASSWORD,
# and APPLE_TEAM_ID env vars. Skipped when not set.
afterSign: scripts/notarize.js

# ── Windows ──────────────────────────────────────────────────────────
win:
  target:
    - nsis
    - portable
  icon: build/icon.ico
  # Code signing: set WIN_CSC_LINK + WIN_CSC_KEY_PASSWORD env vars in CI.
  # When not set, electron-builder produces unsigned binaries.

# ── Linux ──────────────────────────────────────────────────────────────
linux:
  target:
    - AppImage
    - deb
  category: Education

# ── Files & Resources ────────────────────────────────────────────────
files:
  - dist/**/*
  - package.json

extraResources:
  - from: "bin/${os}/${arch}/"
    to: "bin/"
    filter:
      - "**/*"

extraMetadata:
  name: Docmind
  productName: Docmind

# ── Publishing ─────────────────────────────────────────────────────────
publish:
  provider: github
  owner: Baldri
  repo: docmind-desktop

# ── Installers ─────────────────────────────────────────────────────────
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: Docmind

dmg:
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: link
      path: /Applications
